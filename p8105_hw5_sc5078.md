p8105_hw5_sc5078
================

# Problem 2

## Start with a dataframe containing all file names

``` r
file_name = list.files(path = "./data", all.files = FALSE, full.names = FALSE)
list(file_name)
```

    ## [[1]]
    ##  [1] "con_01.csv" "con_02.csv" "con_03.csv" "con_04.csv" "con_05.csv"
    ##  [6] "con_06.csv" "con_07.csv" "con_08.csv" "con_09.csv" "con_10.csv"
    ## [11] "exp_01.csv" "exp_02.csv" "exp_03.csv" "exp_04.csv" "exp_05.csv"
    ## [16] "exp_06.csv" "exp_07.csv" "exp_08.csv" "exp_09.csv" "exp_10.csv"

## Iterate over file names and read in data

``` r
select_name <- function(x) {
  subject_ID_x = substr(x, 5,6)
  arm_x = substr(x, 1, 3)
  
  tibble(
    subject_ID = subject_ID_x, 
    arm = arm_x
  )
}

sep_name <- select_name(file_name)

file_paths <- c("./data/con_01.csv", "./data/con_02.csv", "./data/con_03.csv", "./data/con_04.csv", "./data/con_05.csv", "./data/con_06.csv", "./data/con_07.csv", "./data/con_08.csv", "./data/con_09.csv", "./data/con_10.csv", "./data/exp_01.csv", "./data/exp_02.csv", "./data/exp_03.csv", "./data/exp_04.csv", "./data/exp_05.csv", "./data/exp_06.csv", "./data/exp_07.csv", "./data/exp_08.csv", "./data/exp_09.csv", "./data/exp_10.csv")

read_data <- function(x) {
  data <- read.csv(x)  
  return(data)
}

hw5_data<- purrr::map(file_paths, read_data) |>
  bind_rows() |>
  bind_cols(x=_, y=sep_name) |>
  janitor::clean_names() |>
    pivot_longer(
      week_1:week_8,
      names_to = "week",
      names_prefix = "week_",
      values_to = "observation")
```
